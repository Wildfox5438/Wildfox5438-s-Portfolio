<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TxDPS Constable Gamepass Checker</title>
<style>
body { 
    background:#0e0e0e; 
    color:white; 
    font-family:Arial,sans-serif; 
    text-align:center; 
    padding:50px; 
}
input, button { 
    padding:10px; 
    margin:5px; 
    border-radius:10px; 
    border:none; 
    outline:none;
}
button { 
    background:#0078ff; 
    color:white; 
    cursor:pointer; 
    font-weight:bold; 
    transition: background 0.2s;
}
button:hover { 
    background:#005bcc; 
}
#result { 
    margin-top:20px; 
    font-size:1.2em; 
}
.notice { 
    margin-top:20px; 
    font-style:italic; 
    color:#ccc; 
}
.slideshow { 
    max-width: 600px; 
    margin: 20px auto; 
    overflow: hidden; 
    border-radius: 25px; 
    border: 3px solid #0078ff;
    height: 350px;
    position: relative;
}
.slideshow img { 
    width: 100%; 
    height: 100%; 
    object-fit: cover; 
    position: absolute;
    top: 0; left: 0;
    transition: opacity 1s ease-in-out;
    opacity: 0;
}
.slideshow img.active { 
    opacity: 1; 
}
</style>
</head>
<body>

<h1>üéÆ TxDPS Constable Gamepass Checker</h1>
<p>Enter your Roblox username twice to confirm:</p>
<input type="text" id="username1" placeholder="Enter username" oninput="preventWildfox(this)">
<input type="text" id="username2" placeholder="Confirm username" oninput="preventWildfox(this)"><br><br>

<button onclick="checkGamepass()">Check Gamepass Ownership</button>
<div id="result"></div>

<!-- Slideshow for cars -->
<div class="slideshow" id="slideshow" style="display:none;">
    <img src="c1.png" class="active">
    <img src="c2.png">
    <img src="c3.png">
    <img src="c4.png">
    <img src="c5.png">
</div>

<!-- Download Vehicle Codes -->
<div id="codesDownload" style="display:none; margin-top:20px;">
    <a id="downloadBtn" href="vehicle_codes.txt" download="TxDPS_Vehicle_Codes.txt">
        <button>üìÑ Download Vehicle Codes</button>
    </a>
</div>

<p class="notice">If checking takes longer than 1 minute, please contact Wildfox directly. Response expected within 24 hours.</p>
<p><a href="https://www.roblox.com/game-pass/1574565046/TxDPS-Constable-package" target="_blank" style="color:#00f0ff;">Purchase Gamepass Here</a></p>

<script>
// Prevent Wildfox5438 username
function preventWildfox(input) {
    if(input.value.toLowerCase() === 'wildfox5438') {
        input.value = '';
        alert("‚ö†Ô∏è You cannot enter Wildfox5438 as the username.");
    }
}

// Gamepass check function
async function checkGamepass() {
    const u1 = document.getElementById('username1').value.trim();
    const u2 = document.getElementById('username2').value.trim();
    const result = document.getElementById('result');

    if(!u1 || !u2) { 
        result.innerHTML = '‚ö†Ô∏è Enter both usernames.'; 
        return; 
    }
    if(u1 !== u2) { 
        result.innerHTML = '‚ö†Ô∏è Usernames do not match.'; 
        return; 
    }
    if(u1.toLowerCase() === 'wildfox5438') { 
        result.innerHTML = '‚ö†Ô∏è You cannot enter Wildfox5438 as the username.';
        return;
    }

    result.innerHTML = '‚è≥ Checking ownership... This may take up to 1 minute.';
    
    try {
        const res = await fetch(`https://roblox-proxy-px3p.onrender.com/api/ownership?username=${u1}&gamepassId=1574565046`);
        const data = await res.json();
        if(data.owned){
            result.innerHTML = '‚úÖ Ownership confirmed!';
            document.getElementById('codesDownload').style.display = 'block';
            document.getElementById('slideshow').style.display = 'block';
            startSlideshow();
        } else {
            result.innerHTML = '‚ùå You do not own the gamepass yet. Please purchase it first: <a href="https://www.roblox.com/game-pass/1574565046/TxDPS-Constable-package" target="_blank">Purchase Here</a>';
            document.getElementById('codesDownload').style.display = 'none';
        }
    } catch(e){
        console.error(e);
        result.innerHTML = '‚ö†Ô∏è Error connecting to server.';
    }
}

// Slideshow functionality
function startSlideshow() {
    const slides = document.querySelectorAll('#slideshow img');
    let index = 0;
    setInterval(() => {
        slides.forEach((img,i) => img.classList.remove('active'));
        slides[index].classList.add('active');
        index = (index+1) % slides.length;
    }, 2000); // Change image every 2 seconds
}
</script>

</body>
</html>
